statement ok
SET search_path TO pg_temp, vectors;

statement ok
CREATE TABLE t (val svector(6));

statement ok
INSERT INTO t (val) SELECT ARRAY[0, random(), 0, 0, random(), random()]::real[]::vector::svector FROM generate_series(1, 1000);

statement ok
CREATE INDEX ON t USING vectors (val svector_dot_ops)
WITH (options = "[indexing.seismic]");

query I
SELECT COUNT(1) FROM (SELECT 1 FROM t ORDER BY val <#> '{1:3,2:1}/6'::svector limit 10) t2;
----
10

statement ok
DROP TABLE t;
